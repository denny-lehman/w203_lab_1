---
title: "Difficulty Voting in the 2020 Presidential Election"
author: 'Team03: Savita Chari, Denny Lehman, Tymon Silva'
date: "10/19/2021"
output:
  bookdown::pdf_document2: 
    toc: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, include=FALSE}
install.packages("kableExtra")
```

```{r load packages, echo=FALSE, warning=FALSE, message=FALSE}
library(plyr)
library(dplyr)
library(ggplot2) 
library(knitr)
library(tidyverse) 
library(haven)
library(gridExtra)
library(kableExtra)
theme_set(theme_bw())
options(tinytex.verbose = TRUE)
```


```{r DATA Read, echo=FALSE, include=FALSE}
# The analysis consumes clean and processed data generated by a pipeline process. The process consumes a huge data set, cleans it and processes it to make it usable for the analysis. In order to have a streamlined and optimal process, we have created a data pipeline which is run once every election year and the clean and processed data is used every time the analysis is conducted. This saves us a lot of time and resources.

ANES <- read_csv("anes.csv")
head(ANES)
```


# Introduction
The 2020 election, held on November 3, recorded the highest voter turnout in US election history as well as the highest number of mail-in voters.\footnote{https://www.newsweek.com/highest-voter-turnouts-history-us-elections-1545235} 
And, although more participation is generally seen as a good thing, the 2020 voting experience left many concerned and troubled, casting a shadow on the safety, reliability, and structure of the voting process. Videos of citizens showing up armed with weapons at the voting booths, stories of locals intimidating and harassing voters standing in line, and reports of issues with mail-in ballot boxes, seemed all too common this last general election\footnote{https://www.pewtrusts.org/en/research-and-analysis/blogs/stateline/2020/10/15/election-officials-prepare-for-voter-intimidation-threat}. Is this just the media hyping the drama around the voting process or did certain groups of voters really experience increased difficulty voting compared to others? The answer seems to change based on who is asked and how they lean politically \footnote{https://apnews.com/article/election-2020-ap-fact-check-joe-biden-donald-trump-technology-49a24edd6d10888dbad61689c24b05a5}. The situation has spurred many discussions around the voting process and how it will look in the future.

In this report, we answer a basic, but relevant question: 

\begin{quote}
  \textit{Did Democratic voters or Republican voters experience more difficulty voting in the 2020 election?}
\end{quote} 

We focus our analysis on the frequency at which Democrats and Republicans experienced difficulties voting and omit analysis on the severity or type of voting challenges. In answering this question, we can contribute to the conversation and help guide strategies that reform and/or improve the voting process. We must protect our voters to ensure a fair election takes place.

# Data and Methodology
Our data comes from the 2020 Time Series Study performed by the survey firm, Westat, and generated by the American National Election Studies (ANES). The data consists of responses from both a pre and post election survey, in which participants were interviewed prior to election date and contacted again to capture their experiences and opinions shortly after the election had concluded. Addresses across the US were randomly drawn from a USPS computerized delivery sequence file and the selected addresses were sent a series of letters to recruit a household member. All mailers offered financial incentives to participate in the survey. The study involved three modes of response: web -only, mixed web, and mixed video (live video interviewing via Zoom). The pre-election survey was conducted between August 18, 2020 and November 3, 2020. The study re-interviewed the same respondents  in the post-election survey between November 8, 2020 and January 4, 2021. The overall response rate for the pre-election survey and the post-election survey was 40.9% and 87.9%, respectively.

Additionally, all sample members who completed the post-election survey from the ANES 2016 Time Series Study were invited to participate in the 2020 survey online. This survey data was merged using the case ID variable to join the two datasets. We created a data pipeline function to process the combined data set. The function aided in preprocessing - removing invalid entries such as participants who did not complete both pre and post surveys, respondents with eligibility concerns, and participants with questionable identities. Additionally, Independents were removed from the analysis.   

In order to operationalize the concept of difficulty voting, we first identify the Democratic and Republican voters. Per guidance from an article written by political scientists\footnote{https://www.sciencedirect.com/journal/electoral-studies}, we group voters into political parties by the direction they "lean." In other words, a voter that indicates they "lean democratic" is classified as a Democrat and vice versa. The table below describe these distributions.

```{r Table, echo=FALSE}
tbl <- table(ANES$Political_Party)
tbl_p <- prop.table(tbl)


df <- data.frame(tbl, tbl_p)
df <- subset(df, select=-c(Var1.1))
df <- df %>% 
  rename(
    Party = Var1,
    Frequency = Freq,
    Proportion = Freq.1,
    )

summary_table <- kable(
  df
  , digits = 2
  , caption = 'Distribution of Political Party'
  , booktabs = TRUE
  # , latex_options = "HOLD_position"
  ) %>%
kable_styling(latex_options = "HOLD_position")
summary_table

```

Table 1 shows the frequencies of Democrats and Republicans in our dataset and the proportion of each group, which is roughly 54% Democrat and 46% Republican.

The key variable for our analysis is the question pertaining to how difficult it was for the respondent to vote. Responses were collected on a 5-point Likert scale that ranged from 1 ("Not difficult at all") to 5 ("Extremely difficult"). In order to operationalize the frequency in which Democrats had experienced difficulty voting compared to Republicans that experienced difficulty, we grouped voters in a binary fashion; as either "had difficulty voting" or "had no difficulty at all" and compared their means. The bar graph on the left in Figure 1 illustrates how one would make that mapping. Any respondent that rated their difficulty a "1" would be grouped as not having experienced any difficulty at all in the voting process. All reported ratings at a "2" or above would be assigned to the group that did experience difficulty voting. The bar graph on the right-hand-side in Figure 1 shows the result of that mapping with the counts in each of the groups. As you can calculate from the frequencies, just over 12% of Democrats reported facing difficulty voting compared to 9.6% reported by Republicans.  

```{r mean comparison, echo = FALSE, message=FALSE}
ANES_mean <- ANES %>%
  mutate(
    Voting_Level_Difficulty_Code = case_when(
      Voting_Level_Difficulty_Code > 1 ~ 1,
      Voting_Level_Difficulty_Code == 1 ~ 0,
      )
    )
``` 

```{r Stacked Bar to show Yes/No Difficulty, echo = FALSE, message=FALSE}
# scale_fill_manual(values=c("#D3D3D3", "#900d09"))
plt1 <- ggplot(data = ANES_mean, aes( y = Political_Party, fill =  factor(Voting_Level_Difficulty_Code) ))  +  
    geom_bar() + coord_flip() + scale_fill_manual(values=c("#D3D3D3", "#900d09")) + labs(title = "Partywise Who Faced Difficulty", x = "Number of Voters", y = "Political Party",fill="Level of Difficulty") + geom_text(stat='count',aes(label=..count..),vjust=-0.7)+labs( fill = "Faced Difficulty?") +scale_fill_brewer(palette = 17, labels = c("No", "Yes"))
```



```{r Voting Level Difficulty comparison, echo = FALSE, message=FALSE}
plt2 <- ggplot(data = ANES, aes( y = Political_Party, fill =  factor(Voting_Level_Difficulty_Code) ))  +  
    geom_bar() + coord_flip() + scale_fill_brewer(palette = 17)+ labs(title = "Partywise Level of Difficulty", x = "Number of Voters", y = "Political Party",fill="Level of Difficulty")

```

```{r echo = FALSE, message=FALSE, fig.height= 4, fig.width=8, fig.cap='Voter difficulty by political party (left) and operationalized difficulty for this study (right)'}
grid.arrange(plt2, plt1, ncol=2)
```

We will test if one party is more likely to experience difficulty voting than the other. To test this, we can use a two-sample t-test. The null hypothesis for this t-test can be expressed as follows:

\begin{quote}

\textbf{Null Hypothesis:} \textit{The probability that a Democratic voter experiences some difficulty during their voting process is equal to the probability that a Republican voter experiences some difficulty during their voting process.}

\end{quote}

For this t-test, the following assumptions must be true:

\begin{enumerate}
  \item \textbf{i.i.d. data}  First, data must be generated via an iid process (Independent and Identically Distributed). The ANES 2020 survey merged data from a panel, which was comprised of participants in the ANES 2016 survey. This is a concern when validating that the data be identically distributed, since the year in which these surveys were administered differs greatly. However, for the purposes of this study, we will assume the impact of this possible violation is negligible. 

  \item \textbf{Metric scale}  Even though our raw data includes ordinal variables, we have transformed them to binary form.  A binary variable qualifies as metric data because there is only a single interval, which goes from zero to 1.
  
  \item \textbf{Sufficient normality} Even after removing ineligible respondents, the sample contains sufficient size (n$\approx$5600). As a general rule of thumb, when n > 30 the distribution of the sampling statistic approaches the normal distribution per the Central Limit Theorem.
\end{enumerate}
# Results
```{r unpaired two sample t-test , echo=TRUE, results='hide'}

t.test(ANES_mean$Voting_Level_Difficulty_Code ~ ANES_mean$Political_Party)

```
The result of the Two Sample t-test returned a t-statistic of 2.92, giving a p value of 0.0034. Since the p-value is less than 0.05 (our false positive rate), we reject the null hypothesis with 95% confidence; there is a difference in voting difficulty between Democrats and Republicans. 12% of Democrats faced some difficulty voting while 9.6% of Republicans experienced issues. Comparing means, Democrats are 25% more likely to experience incidents of voting difficulty compared to their Republican counterparts. The results are statistically significant.


# Discussion
This study found that Democrats experience 25% higher frequency of voting difficulty than Republicans in the 2020 election. This is a surprising result, considering the influx of mail in voting and historically large election turnout. In a country that views voting as a right for all citizens, we find that challenges to voting are not evenly spread among Americans. The difference in voting difficulty based on political party is especially concerning because lifting restrictions often requires new laws. We suspect that many politicians would prefer their opposition have harsher restrictions to the polls, not more access. As Republican State Legislators pass stricter voting laws making it harder to vote in many states \footnote{https://www.usnews.com/news/best-states/articles/2021-07-02/17-states-have-passed-restrictive-voting-laws-this-year-report-says}, we recommend further analysis on voting difficulty and party. This election was the largest yet, but there is still work to be done enabling all to participate in democracy, regardless of political affiliation.
